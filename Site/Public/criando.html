<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OwlFall | Personagens</title>
    <link rel="icon" href="assets/coruja.jpg">

    <link rel="stylesheet" type="text/css" href="style/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kavoon&display=swap" rel="stylesheet">
</head>

<body>

    <div id="tela_atributos">

        <div class="div-header-atributos">
            <div class="div-container-navbar-atributos">
                <div class="div-logo-navbar">
                    <a href="index.html"> OwlFall </a>
                </div>
                <div class="div-navbar">
                    <a href="index.html"> Sobre </a>
                    <a href="poder.html"> Poder </a>
                    <a href="personagens.html"> Personagens </a>
                    <a href="campanhas.html"> Campanhas </a>
                    <a href="login.html"> Login </a>
                </div>
            </div>
            <div class="div-traco-atributos"></div>
        </div>

        <div class="div-container-body-atributos">
            <div class="div-botoes-atributos">
                <button onclick="mostrarAtributos()">Atributos</button>
                <div class="div-traco-caracteristicas-separando"></div>
                <button onclick="mostrarClasse()">Classe</button>
                <div class="div-traco-caracteristicas-separando"></div>
                <button onclick="mostrarFinal()">Toques Finais</button> <br>
            </div>
            
            <div class="div-box-atributos">
                <div class="div-texto-esquerda-atributos">
                    <h2>Quando você cria um personagem, todos os seus atributos começam em 1 e você recebe 4 pontos para distribuir entre eles como quiser. Você também pode reduzir um atributo para 0 para receber 1 ponto adicional. O valor máximo inicial que você pode ter em cada atributo é 3.</h2>
                </div>

                <div class="div-atributos-direita">  
                    <img src="assets/atributos.png" alt="" id="img-atributos">

                    <input type="number" id="inp_agilidade_atributo" value="1">  <br>
                    <input type="number" id="inp_forca_atributo" value="1">
                    <input type="number" id="inp_intelecto_atributo" value="1"> <br>
                    <input type="number" id="inp_presenca_atributo" value="1"> 
                    <input type="number" id="inp_vigor_atributo" value="1">
                </div>
            </div>
        </div>

    </div>

    <div id="tela_classes" style="display:none;">

        <div class="div-header-classes">
            <div class="div-container-navbar-classes">
                <div class="div-logo-navbar">
                    <a href="index.html"> OwlFall </a>
                </div>
                <div class="div-navbar">
                    <a href="index.html"> Sobre </a>
                    <a href="poder.html"> Poder </a>
                    <a href="personagens.html"> Personagens </a>
                    <a href="campanhas.html"> Campanhas </a>
                    <a href="login.html"> Login </a>
                </div>
            </div>
            <div class="div-traco-classes"></div>
        </div>

        <div class="div-container-body-classes">
            <div class="div-botoes-classes">
                <button onclick="mostrarAtributos()">Atributos</button>
                <div class="div-traco-caracteristicas-separando"></div>
                <button onclick="mostrarClasse()">Classe</button>
                <div class="div-traco-caracteristicas-separando"></div>
                <button onclick="mostrarFinal()">Toques Finais</button> <br>
            </div>

            <div class="div-classes">

                <div class="div-mundano">
                    <p>
                        Sua classe nada mais e que sua forma de nen. <br>
                        No entanto ainda assim temos as pessoas que ainda não tem nen.  
                        Ai você aperta aqui ->  
                        <button onclick="mundano()">Mundano</button>
                    </p>
                </div>

                <div class="boxPai-classes">
                    
                    <div class="box1-classes-cima">
                        
                        <div class="box1-classes">
                            <h2>Fortificador</h2>
                            <div class="div-traco-classes-box"></div>
                            <div class="div-mensagem-classes">
                                <p>
                                    Fortificadores são pessoas de espírito direto, determinação firme e convicções inabaláveis. Sua força vem tanto do corpo quanto da vontade, e por isso tendem a se destacar em combates diretos, onde a clareza das trocas de golpes fala mais alto do que truques elaborados. Valorizam a honestidade e o esforço contínuo, acreditando que tudo deve ser conquistado com o próprio suor. No Nen, são os mais estáveis: conseguem reforçar o corpo, endurecer a pele, ampliar golpes físicos ou criar defesas sólidas como pedra. Apesar disso, costumam ter menor flexibilidade criativa, concentrando-se em um estilo simples e brutalmente eficiente. São pilares em batalha, suportando tormentas que derrubariam qualquer outro tipo, mas também podem ser superados por habilidades que ignoram defesa ou burlam regras básicas do combate.
                                </p>
                            </div>
                            <button onclick="fortificador()">Escolher</button>
                        </div>

                        <div class="box2-classes">
                            <h2>Transmutador</h2>
                            <div class="div-traco-classes-box"></div>
                            <div class="div-mensagem-classes">
                                <p>
                                    Transmutadores são imprevisíveis, adaptáveis e emocionalmente complexos. Tendem a enxergar possibilidades onde ninguém mais vê, convertendo sua própria aura em propriedades únicas eletricidade, veneno, fios, borracha, vibração, som… qualquer coisa que reflita sua personalidade. Vivem em constante mudança, e isso ecoa no seu estilo de luta: versátil, criativo e capaz de contornar obstáculos que derrubariam outros usuários. São perigosos porque ninguém sabe o que esperar deles. Em contrapartida, a profundidade de suas técnicas exige controle minucioso e preparo emocional, o que significa que podem oscilar entre um poder avassalador e momentos de vulnerabilidade. Dentro do Nen, são os artistas engenhosos, criando técnicas híbridas, combos complexos e efeitos inusitados.
                                </p>
                            </div>
                            <button onclick="transmutador()">Escolher</button>
                        </div>

                        <div class="box3-classes">
                            <h2>Emissor</h2>
                            <div class="div-traco-classes-box"></div>
                            <div class="div-mensagem-classes">
                                <p>
                                    Emissores são explosivos, impulsivos e diretos, com tendência a agir primeiro e pensar depois. Essa impulsividade se traduz em um tipo de Nen focado na distância: são mestres em lançar sua aura para longe, criando rajadas, ondas de impacto, explosões e tiros concentrados. Em combate, são artilheiros naturais, capazes de obliterar múltiplos inimigos ou destruir barreiras rapidamente. Seu estilo de luta é rápido, agressivo e devastador mas também muito custoso. Emissores consomem aura rapidamente e podem ficar vulneráveis caso o inimigo se aproxime demais. Embora faltem recursos para lutas prolongadas, possuem vantagem absoluta quando conseguem manter o adversário à distância, transformando o campo de batalha num caos calculado.
                                </p>
                            </div>
                            <button onclick="emissor()">Escolher</button>
                        </div>

                    </div>

                    <div class="box1-classes-baixo">

                        <div class="box4-classes">
                            <h2>Conjurador</h2>
                            <div class="div-traco-classes-box"></div>
                            <div class="div-mensagem-classes">
                                <p>
                                    Conjuradores costumam ser calmos, lógicos e meticulosos, guiando suas ações com cautela e raciocínio. São os estrategistas silenciosos, aqueles que analisam a situação antes de agir. Sua habilidade mais marcante é a criação de objetos, armas, criaturas ou fenômenos de aura construções tão detalhadas quanto sua própria mentalidade. Conjuradores prosperam quando têm tempo para planejar, já que suas habilidades podem atingir potencial absurdo quando sustentadas por condições, regras e restrições inteligentes. Em compensação, são mais vulneráveis quando pegos de surpresa, antes de conseguirem conjurar o que precisam. Apesar disso, quando totalmente preparados, são capazes de controlar o campo de batalha, ditar o ritmo do combate e até quebrar estratégias inimigas por completo.
                                </p>
                            </div>
                            <button onclick="conjurador()">Escolher</button>
                        </div>

                        <div class="box5-classes">
                            <h2>Manipulador</h2>
                            <div class="div-traco-classes-box"></div>
                            <div class="div-mensagem-classes">
                                <p>
                                    Manipuladores são, acima de tudo, pessoas inclinadas à influência seja psicológica, emocional ou física. Observadores e calculistas, têm facilidade em entender o comportamento alheio e, a partir disso, criar técnicas que controlam, alteram ou impõem efeitos sobre outros indivíduos ou objetos. São usuários perigosos não pela força bruta, mas por sua capacidade de virar aliados uns contra os outros, fortalecer companheiros ou enfraquecer inimigos com debuffs brutais. Suas habilidades podem exigir condições específicas, mas, quando ativadas, costumam economizar aura e se manter por longos períodos. O lado fraco é que manipulação depende profundamente da situação: se não houver brechas emocionais ou comportamentais, algumas de suas técnicas perdem força. Ainda assim, poucos tipos de Nen podem dominar um campo social ou psicológico como eles.
                                </p>
                            </div>
                            <button onclick="manipulador()">Escolher</button>
                        </div>

                        <div class="box6-classes">
                            <h2>Especialista</h2>
                            <div class="div-traco-classes-box"></div>
                            <div class="div-mensagem-classes">
                                <p>
                                    Especialistas são os mais raros, incompreendidos e temidos entre os usuários de Nen. Suas habilidades simplesmente não seguem regras comuns: variam de poderes mentais excepcionais a fenômenos impossíveis, passando por manipulações de alma, tempo, memória, emoções, destinos ou realidades internas. São indivíduos que não se encaixam nos padrões das outras classes e isso também se manifesta em sua personalidade: incomuns, excêntricos, profundos ou marcados por traumas e visões de mundo únicas. Não há dois especialistas semelhantes. Em combate, são imprevisíveis, podendo virar a luta de forma absurda com uma única habilidade, mas muitas vezes suas técnicas dependem de condições duras, sacrifícios pessoais ou juramentos perigosos. Por isso, são tanto venerados quanto discriminados. No teu mundo, carregam o peso de serem julgados por aquilo que podem fazer, não pelo que escolheram ser.
                                </p>
                            </div>
                            <button onclick="especialista()">Escolher</button>
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>

    <div id="tela_caracteristicas" style="display:none;">

        <div class="div-header-caracteristicas">
            <div class="div-container-navbar-caracteristicas">
                <div class="div-logo-navbar">
                    <a href="index.html"> OwlFall </a>
                </div>
                <div class="div-navbar">
                    <a href="index.html"> Sobre </a>
                    <a href="poder.html"> Poder </a>
                    <a href="personagens.html"> Personagens </a>
                    <a href="campanhas.html"> Campanhas </a>
                    <a href="login.html"> Login </a>
                </div>
            </div>
            <div class="div-traco-caracteristicas"></div>
        </div>

        <div class="div-container-body-caracteristicas">
            <div class="div-botoes-caracteristicas">
                <button onclick="mostrarAtributos()">Atributos</button>
                <div class="div-traco-caracteristicas-separando"></div>
                <button onclick="mostrarClasse()">Classe</button>
                <div class="div-traco-caracteristicas-separando"></div>
                <button onclick="mostrarFinal()">Toques Finais</button> <br>
            </div>

            <div class="div-caracteristicas">

                <div class="div-caracteristicas-inicio">
                    <p>
                        Até aqui, você definiu as características mecânicas de sua ficha mas um bom personagem é mais do que apenas números. <br> 
                        Agora, vamos trabalhar na descrição de seu personagem, definindo aspectos como nome, gênero e idade. Esses aspectos não <br> 
                        possuem efeito em regras, mas deixam o jogo mais envolvente e divertido.
                    </p>
                    <button onclick="criarFicha()">Finalizar</button>
                </div>

                <div class="div-box-caracteristicas">
                    <span id="nome-espaco-caracteristicas">Nome</span>
                    <span>Jogador</span> <br>
                    <input type="text" id="inp_nome" placeholder="Nome do personagem">
                    <input type="text" id="inp_jogador" placeholder="Nome do jogador"> <br> <br>

                    <span>Aparência</span> <br>
                    <textarea type="text" id="inp_aparencia" placeholder="Nome, gênero, idade, descrição fisica..."></textarea> <br> <br>

                    <span>Personalidade</span> <br>
                    <textarea type="text" id="inp_personalidade" placeholder="Traços marcantes, opinões, ideias..."></textarea> <br> <br>

                    <span>Histórico</span> <br>
                    <textarea type="text" id="inp_descricao" placeholder="Infancia, relação com a familia, eventos bons e ruins..."></textarea> <br> <br>

                    <span>Objetivo</span> <br>
                    <textarea type="text" id="inp_objetivo" placeholder="Qual o objetivo do seu personagem"></textarea> 
                </div>

            </div>
        </div>

    </div>


</body>
</html>

<script>

    var statusMax = {}
    var dadosPersonagem = []
    var classe = []
    
    function mostrarAtributos() {
        
        tela_atributos.style.display = "block";
        tela_classes.style.display = "none";
        tela_caracteristicas.style.display = "none";
        
    }
    
    function mostrarClasse() {
        
        tela_atributos.style.display = "none";
        tela_classes.style.display = "block";
        tela_caracteristicas.style.display = "none";
        
    }
    
    function mostrarFinal() {
        
        tela_atributos.style.display = "none";
        tela_classes.style.display = "none";
        tela_caracteristicas.style.display = "block";
        
    }

    function mundano() {

        classe.push('mundano')
        statusMax =  {
            'vida': 150,
            'sanidade': 8,
            'nen': 0
        }
        tela_classes.style.display = "none";
        tela_caracteristicas.style.display = "block"; 

    }

    function fortificador() {

        classe.push('fortificador')
        statusMax =  {
            'vida': 500,
            'sanidade': 15,
            'nen': 156
        }
        tela_classes.style.display = "none";
        tela_caracteristicas.style.display = "block"; 

    }

    function transmutador() {

        classe.push('transmutador')
        statusMax =  {
            'vida': 470,
            'sanidade': 15,
            'nen': 156
        }
        tela_classes.style.display = "none";
        tela_caracteristicas.style.display = "block";

    }

    function emissor() {

        classe.push('emissor')
        statusMax =  {
            'vida': 460,
            'sanidade': 16,
            'nen': 156
        }
        tela_classes.style.display = "none";
        tela_caracteristicas.style.display = "block";

    }

    function manipulador() {

        classe.push('manipulador')
        statusMax =  {
            'vida': 450,
            'sanidade': 17,
            'nen': 156
        }
        tela_classes.style.display = "none";
        tela_caracteristicas.style.display = "block";

    }

    function conjurador() {

        classe.push('conjurador')
        statusMax =  {
            'vida': 450,
            'sanidade': 16,
            'nen': 166
        }
        tela_classes.style.display = "none";
        tela_caracteristicas.style.display = "block";

    }

    function especialista() {

        classe.push('especialista')
        statusMax =  {
            'vida': 420,
            'sanidade': 16,
            'nen': 186
        }
        tela_classes.style.display = "none";
        tela_caracteristicas.style.display = "block";

    }
    
    function criarFicha() {

        if (classe == "") {
            classe.push('mundano')
            statusMax =  {
                'vida': 150,
                'sanidade': 8,
                'nen': 0
            }
        }

        var nome = inp_nome.value
        var jogador = inp_jogador.value
        var aparencia = inp_aparencia.value
        var personalidade = inp_personalidade.value
        var descricao = inp_descricao.value
        var objetivo = inp_objetivo.value
        
        var atributos = []

        var agilidade = Number(inp_agilidade_atributo.value)
        var forca = Number(inp_forca_atributo.value)
        var intelecto = Number(inp_intelecto_atributo.value)
        var presenca = Number(inp_presenca_atributo.value)
        var vigor = Number(inp_vigor_atributo.value)

        atributos.push(agilidade, forca, intelecto, presenca, vigor)

        dadosPersonagem.push( {
            'nome': nome,
            'jogador': jogador,
            'classe': classe[classe.length - 1],
            'statusMax': statusMax,
            'atributos': atributos,
            'aparencia': aparencia,
            'personalidade': personalidade,
            'descricao': descricao,
            'objetivo': objetivo
        })

      fetch("/criando/criarFicha", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          dadosPersonagemServer: dadosPersonagem,
        }),
      })
      .then(function(res) {
        return res.json();
      })
      .then(function(resposta) {
        sessionStorage.ID_FICHA = resposta.idFicha;
        window.location.href = "ficha.html";
      });

    }



</script>
